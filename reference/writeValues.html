<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write values to a file — writeValues • raster</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write values to a file — writeValues"><meta property="og:description" content="Functions for writing blocks (&amp;gt;= 1 row(s)) of values to files. Writing has to start at the first cell of a row (identified with argument start) and the values written must represent 1 or more entire rows. Begin by opening a file with writeStart, then write values to it in chunks. When writing is done close the file with writeStop.
If you want to write all values of a Raster* object at once, you can also use writeRaster which is easier to use but more limited. The functions described here allow writing values to file using chunks of different sizes (e.g. 1 or 10 rows). Function blockSize can be used to suggest a chunk size to use."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raster</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.6-32</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rspatial/raster/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write values to a file</h1>

    <div class="hidden name"><code>writeValues.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions for writing blocks (&gt;= 1 row(s)) of values to files. Writing has to start at the first cell of a row (identified with argument <code>start</code>) and the values written must represent 1 or more entire rows. Begin by opening a file with <code>writeStart</code>, then write values to it in chunks. When writing is done close the file with <code>writeStop</code>.</p>
<p>If you want to write all values of a Raster* object at once, you can also use <code><a href="writeRaster.html">writeRaster</a></code> which is easier to use but more limited. The functions described here allow writing values to file using chunks of different sizes (e.g. 1 or 10 rows). Function <code><a href="blockSize.html">blockSize</a></code> can be used to suggest a chunk size to use.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'RasterLayer,character'</span></span>
<span><span class="fu">writeStart</span><span class="op">(</span><span class="va">x</span>, <span class="va">filename</span>, options<span class="op">=</span><span class="cn">NULL</span>, <span class="va">format</span>, prj<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'RasterBrick,character'</span></span>
<span><span class="fu">writeStart</span><span class="op">(</span><span class="va">x</span>, <span class="va">filename</span>, options<span class="op">=</span><span class="cn">NULL</span>, <span class="va">format</span>, prj<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'RasterLayer,vector'</span></span>
<span><span class="fu">writeValues</span><span class="op">(</span><span class="va">x</span>, <span class="va">v</span>, <span class="va">start</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'RasterBrick,matrix'</span></span>
<span><span class="fu">writeValues</span><span class="op">(</span><span class="va">x</span>, <span class="va">v</span>, <span class="va">start</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'RasterLayer'</span></span>
<span><span class="fu">writeStop</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'RasterBrick'</span></span>
<span><span class="fu">writeStop</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Raster* object</p></dd>

  <dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>character. Output file name</p></dd>

  <dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>character, see <code><a href="writeRaster.html">writeRaster</a></code></p></dd>

  <dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>character, see <code><a href="writeRaster.html">writeRaster</a></code></p></dd>

  <dt id="arg-prj">prj<a class="anchor" aria-label="anchor" href="#arg-prj"></a></dt>
<dd><p>logical. If <code>TRUE</code>, a "prj" file is written</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments as for <code><a href="writeRaster.html">writeRaster</a></code></p></dd>

  <dt id="arg-v">v<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>vector (RasterLayer) or matrix (RasterBrick) of values</p></dd>

  <dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>Integer. Row number (counting starts at 1) from where to start writing <code>v</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>RasterLayer or RasterBrick</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="writeRaster.html">writeRaster</a>, <a href="blockSize.html">blockSize</a>, <a href="update.html">update</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="raster.html">raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"external/test.grd"</span>, package<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># write to a new binary file in chunks</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="raster.html">raster</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># </span></span></span>
<span class="r-in"><span><span class="va">tr</span> <span class="op">&lt;-</span> <span class="fu"><a href="blockSize.html">blockSize</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tr</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">writeStart</span><span class="op">(</span><span class="va">s</span>, filename<span class="op">=</span><span class="st">'test.grd'</span>,  overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">tr</span><span class="op">$</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="getValuesBlock.html">getValuesBlock</a></span><span class="op">(</span><span class="va">r</span>, row<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, nrows<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">nrows</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">writeValues</span><span class="op">(</span><span class="va">s</span>, <span class="va">v</span>, <span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">writeStop</span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu">writeStart</span><span class="op">(</span><span class="va">s</span>, filename<span class="op">=</span><span class="st">'test2.tif'</span>, format<span class="op">=</span><span class="st">'GTiff'</span>, overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># writing last row first</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">tr</span><span class="op">$</span><span class="va">n</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="getValuesBlock.html">getValuesBlock</a></span><span class="op">(</span><span class="va">r</span>, row<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, nrows<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">nrows</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu">writeValues</span><span class="op">(</span><span class="va">s2</span>, <span class="va">v</span>, <span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># row number 5 once more</span></span></span>
<span class="r-in"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="getValuesBlock.html">getValuesBlock</a></span><span class="op">(</span><span class="va">r</span>, row<span class="op">=</span><span class="fl">5</span>, nrows<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">writeValues</span><span class="op">(</span><span class="va">s2</span>, <span class="va">v</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu">writeStop</span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## write values of a RasterStack to a RasterBrick</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="stack.html">stack</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"external/rlogo.grd"</span>, package<span class="op">=</span><span class="st">"raster"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># create empty brick</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="brick.html">brick</a></span><span class="op">(</span><span class="va">s</span>, values<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>  </span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">writeStart</span><span class="op">(</span><span class="va">b</span>, filename<span class="op">=</span><span class="st">"test.grd"</span>, format<span class="op">=</span><span class="st">"raster"</span>,overwrite<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tr</span> <span class="op">&lt;-</span> <span class="fu"><a href="blockSize.html">blockSize</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">tr</span><span class="op">$</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="getValuesBlock.html">getValuesBlock</a></span><span class="op">(</span><span class="va">s</span>, row<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, nrows<span class="op">=</span><span class="va">tr</span><span class="op">$</span><span class="va">nrows</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">writeValues</span><span class="op">(</span><span class="va">b</span>, <span class="va">v</span>, <span class="va">tr</span><span class="op">$</span><span class="va">row</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu">writeStop</span><span class="op">(</span><span class="va">b</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># note that the above is equivalent to </span></span></span>
<span class="r-in"><span><span class="co"># b &lt;- writeRaster(s, filename="test.grd", format="raster",overwrite=TRUE)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

