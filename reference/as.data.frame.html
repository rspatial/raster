<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get a data.frame with raster cell values, or coerce SpatialPolygons, Lines, or Points to a data.frame — as.data.frame • raster</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get a data.frame with raster cell values, or coerce SpatialPolygons, Lines, or Points to a data.frame — as.data.frame"><meta property="og:description" content="as.matrix returns all values of a Raster* object as a matrix. For RasterLayers, rows and columns in the matrix represent rows and columns in the RasterLayer object. For other Raster* objects, the matrix returned by as.matrix has columns for each layer and rows for each cell.
as.array returns an array of matrices that are like those returned by as.matrix for a RasterLayer
If there is insufficient memory to load all values, you can use getValues or getValuesBlock to read chunks of the file. You could also first use sampleRegular
The methods for Spatial* objects allow for easy creation of a data.frame with the coordinates and attributes; the default method only returns the attributes data.frame"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raster</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.5-16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rspatial/raster/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get a data.frame with raster cell values, or coerce SpatialPolygons, Lines, or Points to a data.frame</h1>
    
    <div class="hidden name"><code>as.data.frame.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>as.matrix</code> returns all values of a Raster* object as a matrix. For RasterLayers, rows and columns in the matrix represent rows and columns in the RasterLayer object. For other Raster* objects, the matrix returned by <code>as.matrix</code> has columns for each layer and rows for each cell.</p>
<p><code>as.array</code> returns an array of matrices that are like those returned by <code>as.matrix</code> for a RasterLayer</p>
<p>If there is insufficient memory to load all values, you can use <code><a href="getValues.html">getValues</a></code> or <code><a href="getValuesBlock.html">getValuesBlock</a></code> to read chunks of the file. You could also first use <code><a href="sampleRegular.html">sampleRegular</a></code></p>
<p>The methods for Spatial* objects allow for easy creation of a data.frame with the coordinates and attributes; the default method only returns the attributes data.frame</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S4 method for Raster</span>
<span class="fu">as.data.frame</span><span class="op">(</span><span class="va">x</span>, row.names<span class="op">=</span><span class="cn">NULL</span>, optional<span class="op">=</span><span class="cn">FALSE</span>, xy<span class="op">=</span><span class="cn">FALSE</span>, 
              na.rm<span class="op">=</span><span class="cn">FALSE</span>, long<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for SpatialPolygons</span>
<span class="fu">as.data.frame</span><span class="op">(</span><span class="va">x</span>, row.names<span class="op">=</span><span class="cn">NULL</span>, optional<span class="op">=</span><span class="cn">FALSE</span>,
              xy<span class="op">=</span><span class="cn">FALSE</span>, centroids<span class="op">=</span><span class="cn">TRUE</span>, sepNA<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for SpatialLines</span>
<span class="fu">as.data.frame</span><span class="op">(</span><span class="va">x</span>, row.names<span class="op">=</span><span class="cn">NULL</span>, optional<span class="op">=</span><span class="cn">FALSE</span>, 
              xy<span class="op">=</span><span class="cn">FALSE</span>, sepNA<span class="op">=</span><span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>Raster* object</p></dd>
<dt>row.names</dt>
<dd><p><code>NULL</code> or a character vector giving the row names for the data frame. Missing values are not allowed</p></dd>
<dt>optional</dt>
<dd><p>logical. If <code>TRUE</code>, setting row names and converting column names (to syntactic names: see make.names) is optional</p></dd>
<dt>xy</dt>
<dd><p>logical. If <code>TRUE</code>, also return the spatial coordinates</p></dd>
<dt>na.rm</dt>
<dd><p>logical. If <code>TRUE</code>, remove rows with NA values. This can be particularly useful for very large datasets with many NA values</p></dd>
<dt>long</dt>
<dd><p>logical. If <code>TRUE</code>, values are <code><a href="https://rdrr.io/r/stats/reshape.html" class="external-link">reshape</a>d</code> from a wide to a long format</p></dd>
<dt>centroids</dt>
<dd><p>logical. If <code>TRUE</code> return the centroids instead of all spatial coordinates (only relevant if <code>xy=TRUE</code>)</p></dd>
<dt>sepNA</dt>
<dd><p>logical. If <code>TRUE</code> the parts of the spatial objects are separated by lines that are <code>NA</code> (only if <code>xy=TRUE</code> and, for polygons, if <code>centroids=FALSE</code></p></dd>
<dt>...</dt>
<dd><p>Additional arguments (none)</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>data.frame</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="raster.html">raster</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fl">3</span>, nrow<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="getValues.html">values</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="ncell.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span class="r-in"><span class="fu">as.data.frame</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      layer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.414214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2.449490</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 2.645751</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 2.828427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 3.000000</span>
<span class="r-in"><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="stack.html">stack</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">r</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">as.data.frame</span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    layer.1  layer.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.000000 2.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.414214 2.828427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       NA       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2.449490 4.898979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 2.645751 5.291503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 2.828427 5.656854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 3.000000 6.000000</span>
<span class="r-in"><span class="fu">as.data.frame</span><span class="op">(</span><span class="va">s</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    layer.1  layer.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1.000000 2.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.414214 2.828427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2.449490 4.898979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 2.645751 5.291503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 2.828427 5.656854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 3.000000 6.000000</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

